# TCP/IP運作原理簡述
- TCP/IP協議是一個分層結構，用於在不同設備之間進行數據通信。當一台設備需要與另一台設備通信時，數據從應用層開始封裝，經過每一層的處理後到達物理層，最後通過網絡傳輸給目標設備。目標設備會按照相反的順序逐層解封裝數據，直到將數據交付給應用程序。

- 具體過程包括：
- 應用層將數據封裝為適合傳輸的格式。
- 傳輸層確保數據可靠傳輸（TCP）或快速傳輸（UDP）。
- 網際網路層將數據包通過不同的網絡節點路由到目標地址。
- 鏈路層在本地網絡上傳送數據，負責實際的數據傳輸。
- 各層功能與協定及技術實務
- 
1. 鏈路層（Link Layer）
- 功能：在本地網絡內處理設備之間的實際數據傳輸，負責設備之間的物理連接和通信。
- 主要協定：
- 以太網（Ethernet）：控制有線數據傳輸的標準協定。
- Wi-Fi：無線數據傳輸協定。
- 技術實務：
- VLAN（虛擬局域網）：用來將一個物理網絡劃分為多個虛擬網絡，隔離不同的設備和數據流。
#### MAC地址管理：通過網絡交換機使用MAC地址來確定數據幀的傳送對象。
- MAC地址是長度為48位的二進制數，通常表示為12位十六進制數字，分為6對，每對之間用「:」或「-」分隔。例如：00:1A:2B:3C:4D:5E。
- MAC地址的功能:
  - 每一個網路接口再出場的時候都會設定一個MAC地址,它是全球唯一性的。
  - 主要的功能是用來通訊設備,向IP發送數據需要其MAC地址才可以再數據送到目標IP後在其網段下找到確切裝置進行通訊。
- 如何看設備的MAC地址:
  - 1.進入電腦cmd
  - ![螢幕擷取畫面 2024-09-09 113936](https://github.com/user-attachments/assets/3bce2006-00fb-40fb-a941-28811cb3cc57)
  - 2.輸入指令
  ```
  ipconfig /all
  ```
  - ![螢幕擷取畫面 2024-09-09 113655](https://github.com/user-attachments/assets/b27f8b71-ef2e-4203-8810-25d9b48a0bdd)
  - 3.如果有兩個ETHERNET ADPATER那可以確認哪一個是虛擬網卡,因為虛擬網卡也會有一個MAC地址
    - 3-1.點擊進入控制台
    - ![螢幕擷取畫面 2024-09-09 113936](https://github.com/user-attachments/assets/b2d759c8-262b-4aea-b18c-d20d96758902)
    - 3-2.進入'網路共享中心'
    - ![螢幕擷取畫面 2024-09-09 114623](https://github.com/user-attachments/assets/260b0a09-fc62-4a95-b8cb-67b028c7c206)
    - 3-3.進入'變更介面卡設定'
    - ![螢幕擷取畫面 2024-09-09 114636](https://github.com/user-attachments/assets/a454d39a-1a8c-489b-8880-f0468a27023a)
    - 3-4.找到'介面卡'看到底下有顯示'Vitualbox'開頭的就是虛擬機產生的介面卡,如果不是'vitualbox'會是你安裝其它的虛擬機名稱。
    - 這個介面卡的mac地址是虛擬機隨機產生的
    - ![螢幕擷取畫面 2024-09-09 114644](https://github.com/user-attachments/assets/98b80914-2836-459f-b6ef-e0d5bdd6fca1)
- 實例：企業內部的有線網絡中，每台設備透過以太網纜線連接交換機，並分配唯一的MAC地址來傳送數據。

2. 網際網路層（Internet Layer）
- 功能：負責跨不同網絡傳輸數據包，提供IP尋址和路由功能，確保數據能夠到達目標設備。
- 主要協定：
#### IP（Internet Protocol）：負責IP地址分配及數據包的路由。
#### ARP（Address Resolution Protocol）：將IP地址轉換為MAC地址。
- ARP是跟DNS類似的概念,每台電腦的作業系統上都有有ARP緩存與DNS緩存的功能。
- ARP主要是用來轉換IP的MAC地址。
#### ICMP（Internet Control Message Protocol）：用來傳輸錯誤消息和網絡診斷。
- 技術實務：
- IP路由選擇：配置路由器來選擇最佳路徑，通過不同的網絡節點將數據傳送到目標設備。
- NAT（網絡地址轉換）：將私有IP地址轉換為公共IP地址，使內部設備能通過共享的公共IP訪問外部網絡。
- VPN（虛擬私人網絡）：透過加密通道實現遠程安全通信。
- 實例：當你通過家中的Wi-Fi連接互聯網，路由器使用NAT技術將內部網絡的私有IP地址轉換成公共IP，以便訪問互聯網。

3. 傳輸層（Transport Layer）
- 功能：提供端到端的數據傳輸服務，確保數據可靠到達目標應用程序，或以無連接的方式快速傳輸數據。
- 主要協定：
- TCP（Transmission Control Protocol）：提供可靠、面向連接的傳輸，適合需要穩定數據傳輸的應用。
- UDP（User Datagram Protocol）：提供無連接、快速的傳輸，適合需要低延遲但允許數據丟失的應用。
- 技術實務：

- TCP三次握手：TCP在建立連接之前，會進行三次握手來確認對方設備的可達性，確保連接的可靠性。
- TCP流量控制：根據接收方的能力調整數據傳輸速度，避免超載。
- UDP應用：UDP適合用於視頻流、語音通訊和在線遊戲等應用，因為這些應用對延遲敏感但對丟包容忍度較高。
- 實例：當你在觀看YouTube視頻時，使用UDP來確保視頻流的快速傳輸，即使有一些數據包丟失，視頻仍能持續播放。

4. 應用層（Application Layer）
- 功能：直接為應用程序提供網絡通信功能，定義如何將應用程序數據打包並傳輸到另一台設備上的相應應用程序。
- 主要協定：
- HTTP/HTTPS：用於網頁數據傳輸，HTTPS是加密版的HTTP。
- SMTP（Simple Mail Transfer Protocol）：用於發送電子郵件。
- FTP（File Transfer Protocol）：用於文件傳輸。
- DNS（Domain Name System）：將域名轉換為IP地址。
- 技術實務：
- SSL/TLS加密：用於保護HTTP（即HTTPS）中的數據傳輸，防止敏感信息被竊取。
- 電子郵件服務器配置：基於SMTP協定來配置和管理企業內部的郵件系統。
- DNS服務器配置：設置DNS解析服務，將用戶輸入的域名轉換為對應的IP地址。
- 實例：當你打開瀏覽器並輸入一個網址（如www.example.com），你的計算機會使用DNS將這個域名解析為對應的IP地址，然後透過HTTP/HTTPS協定與網站進行通信，顯示網頁內容。
