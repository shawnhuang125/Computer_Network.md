# TCP/IP運作原理簡述
- TCP/IP協議是一個分層結構，用於在不同設備之間進行數據通信。當一台設備需要與另一台設備通信時，數據從應用層開始封裝，經過每一層的處理後到達物理層，最後通過網絡傳輸給目標設備。目標設備會按照相反的順序逐層解封裝數據，直到將數據交付給應用程序。

- 具體過程包括：
- 應用層將數據封裝為適合傳輸的格式。
- 傳輸層確保數據可靠傳輸（TCP）或快速傳輸（UDP）。
- 網際網路層將數據包通過不同的網絡節點路由到目標地址。
- 鏈路層在本地網絡上傳送數據，負責實際的數據傳輸。
- 各層功能與協定及技術實務
- 
1. 鏈路層（Link Layer）
- 功能：在本地網絡內處理設備之間的實際數據傳輸，負責設備之間的物理連接和通信。
- 主要協定：
- 以太網（Ethernet）：控制有線數據傳輸的標準協定。
- Wi-Fi：無線數據傳輸協定。
- 技術實務：
- VLAN（虛擬局域網）：用來將一個物理網絡劃分為多個虛擬網絡，隔離不同的設備和數據流。
- MAC地址管理：通過網絡交換機使用MAC地址來確定數據幀的傳送對象。
- 實例：企業內部的有線網絡中，每台設備透過以太網纜線連接交換機，並分配唯一的MAC地址來傳送數據。

2. 網際網路層（Internet Layer）
- 功能：負責跨不同網絡傳輸數據包，提供IP尋址和路由功能，確保數據能夠到達目標設備。
- 主要協定：
- IP（Internet Protocol）：負責IP地址分配及數據包的路由。
- ARP（Address Resolution Protocol）：將IP地址轉換為MAC地址。
- ICMP（Internet Control Message Protocol）：用來傳輸錯誤消息和網絡診斷。
- 技術實務：
- IP路由選擇：配置路由器來選擇最佳路徑，通過不同的網絡節點將數據傳送到目標設備。
- NAT（網絡地址轉換）：將私有IP地址轉換為公共IP地址，使內部設備能通過共享的公共IP訪問外部網絡。
- VPN（虛擬私人網絡）：透過加密通道實現遠程安全通信。
- 實例：當你通過家中的Wi-Fi連接互聯網，路由器使用NAT技術將內部網絡的私有IP地址轉換成公共IP，以便訪問互聯網。

3. 傳輸層（Transport Layer）
- 功能：提供端到端的數據傳輸服務，確保數據可靠到達目標應用程序，或以無連接的方式快速傳輸數據。
- 主要協定：
- TCP（Transmission Control Protocol）：提供可靠、面向連接的傳輸，適合需要穩定數據傳輸的應用。
- UDP（User Datagram Protocol）：提供無連接、快速的傳輸，適合需要低延遲但允許數據丟失的應用。
- 技術實務：

- TCP三次握手：TCP在建立連接之前，會進行三次握手來確認對方設備的可達性，確保連接的可靠性。
- TCP流量控制：根據接收方的能力調整數據傳輸速度，避免超載。
- UDP應用：UDP適合用於視頻流、語音通訊和在線遊戲等應用，因為這些應用對延遲敏感但對丟包容忍度較高。
- 實例：當你在觀看YouTube視頻時，使用UDP來確保視頻流的快速傳輸，即使有一些數據包丟失，視頻仍能持續播放。

4. 應用層（Application Layer）
- 功能：直接為應用程序提供網絡通信功能，定義如何將應用程序數據打包並傳輸到另一台設備上的相應應用程序。
- 主要協定：
- HTTP/HTTPS：用於網頁數據傳輸，HTTPS是加密版的HTTP。
- SMTP（Simple Mail Transfer Protocol）：用於發送電子郵件。
- FTP（File Transfer Protocol）：用於文件傳輸。
- DNS（Domain Name System）：將域名轉換為IP地址。
- 技術實務：
- SSL/TLS加密：用於保護HTTP（即HTTPS）中的數據傳輸，防止敏感信息被竊取。
- 電子郵件服務器配置：基於SMTP協定來配置和管理企業內部的郵件系統。
- DNS服務器配置：設置DNS解析服務，將用戶輸入的域名轉換為對應的IP地址。
- 實例：當你打開瀏覽器並輸入一個網址（如www.example.com），你的計算機會使用DNS將這個域名解析為對應的IP地址，然後透過HTTP/HTTPS協定與網站進行通信，顯示網頁內容。
